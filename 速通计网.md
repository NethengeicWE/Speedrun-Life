# 计算机网络速通
## 前言
* 坏消息：还是计网的那个老师
* 好消息：熟练多了
## C1：概述
* 较准确的定义：计算机网络主要是由一些通用的、可编程的硬件，互连而成的。硬件功能不单一，传递数据类型多样，支持广泛的日益增长的应用
* 互联网：
    * Internet：特指，由数量极大的各种计算机网络互连起来而形成的一个互连网络。它采用 TCP/IP 协议族作为通信规则，是一个覆盖全球、实现全球范围内连通性和资源共享的计算机网络
    * Internet：由多个计算机网络（简称网络）通过一些路由器相互连接起来，构成了一个覆盖范围更大的计算机网络，即网络的网络。
    * 发展过程：单个网络->互联网，三级互联（主干网，地区网，校园网），多层次互联网服务提供者
* 万维网：略
* 互联网标准化：互联网协会ISOC负责
* 互联网组成：
    * 边缘用户（用于通信和资源共享的终端）：小至嵌入式，大到服务器集群
        * 端用户通信：服务器/客户端（C/S），对等（P2P）
    * 核心部分（提供联通和交换的路由器集群）：路由器互联实现分组交换
* 核心技术：交换技术
    * 电路交换：转接电话线，需要建立连接，使用完要释放
    * 分组交换：分开运输，带上首部（包含目的地与源地址等），目的地在去除包装再组装
    * 报文交换：不分开，直接包装运输，已经死透了
* 以作用范围分类：
    1. 广域网：数千公里
    1. 城域网：50km
    1. 局域网：1km
    1. 个人局域网：10m
    1. 多机处理系统（不算网络）：多机处理系统
* 使用者分类：公用网，专用网，接入网（将用户接入互联网）
* 性能指标：以水管举例
    * 速率：水流量
    * 带宽：管子直径
    * 吞吐量：一定时间流出流入的水的体积
    * 时延：水从一段跑到另一端所需时间 = 发送速度+传输速度+中转处理（排队+处理）速度   
    * 非性能指标：费用，质量，标准化，鲁棒性，可维护性
* 体系结构：层次式协议结构——分层实现功能，统一规则
    1. 各层相对独立，仅为向上/向下负责——水平协议，垂直服务
    * OSI模型：物理层，数据链路层，网络层，运输层，会话层，表示层，应用层
        * 又臭又长，基本没人要
    * TCP/IP模型：网络接口（1，2），网际层ip（3），运输层TDP/UDP（4），应用层http，dns等（5，6，7）
        * 协议族：
    * 五层协议：逐层打包/开箱
        1. 物理层，bit流
        1. 数据链路层，确保相邻节点的数据帧传输无误 
        1. 网络层，负责在路由层面发送接收ip数据报
        1. 运输层，为两个主机的进程提供报文服务
        1. 应用层：传输数据单元，直接为用户的应用进程提供服务

## C2 物理层
* 术语：连续信号/模拟信号，离散信号/数字信号，参考DSD
* 定义：只关心bit流传输，规定接线器物理规格，电压范围，功能特性
* 数据通信系统：源系统，传输系统，目的系统
* 信道Channel：以交互信息分类——单向（单工），双向交替交通（半双工），双向同时通信（全双工）
    * 信道的极限频率：信号受干扰使得码元间隔模糊，即码间干扰  
    香农公式：$C = W\log_{2}(1+S/N) bit/s$
    * 信噪比：信号平均功率与噪声平均功率之比 = $10\lg(S/N)$
* 对基本频带信号的调制与解调：也可称为数字信号编解码
    * 方式：调幅——振幅，调频——频率，调相——相位差
* 编码方式
    * 不归零：默认
    * 归零制：正脉冲为1，负脉冲为0
    * 曼彻斯特编码：采样周期间上越变为0，下越变为1（始终代表下一个周期数字）
    * 差分曼彻斯特编码：采样时越变为0，没有越变为1（始终代表下一个周期数字）
* 传输媒体
    1. 导引型传输媒体：双绞线，同轴电缆，光纤
    1. 非导引型传输媒体：无线传输
* 信道复用：两端架设复用器与分用器：仅需一根线即可承担多根线的任务  
    复用：承担多种用途  
    * 时分复用：时间片，根据复用器输入动态规划时间分割方式成为异步时分复用
    * 波分复用：不同频率的光
    * 码分复用：多位bit代表某一个输入端的1bit，该多位bit称为码片。要求不同码片的内积为0，用于自己的内积为1
* 数字传输系统：统一标准
    * 宽带接入：利用现有的电话线，低频传递声音的模拟信号，高频划分上行信道与下行信号——ADSL非对称数字用户线
    * 光纤同轴混合网：超高速光纤干道，同轴电缆支道
    * 光纤到户：全光纤，分路器

## C3 数据链路层
* 数据链路协议数据单元：帧  
    链路层将网络层的ip数据报包装后由物理层发送，接收方的物理层完全收到后进行校验，无误则将其交给网络层
    * 封装成帧：
        1. 帧首部：F(flag)== 0x7E，A(adress)==0xFF，C(control)==0x03，  
          协议：0x0021：ip数据报,0xC021：PPP控制LCP,0x8021：网络层控制数据
        1. 帧尾部:FCS帧检验序列，F(flag)== 0x7E
    * 透明传输：数据部分转义字符(0x7E)屏蔽假的首尾部,针对本身(0x7D,0x5D)  
    同步传输（一连串比特连续传输）时每5个一就补0，在接收端执行相反操作
    * 校验检测：CRC循环冗余校验  
        不能避免帧重复接受，帧丢失——帧编号，确认与重传机制
        1. 生成多项式：抽取特定位数，由特定规则决定
        1. 附加0位：增加抽取位数中‘1’个数的0
        1. 异或除法：除数为多项式余数为校验码  
        1. 检验：相同的办法生成多项式进行计算，余数为0则校验无误
* PPP协议
    * 需求：简单，易操作；帧封装；透明性；多重网络协议支持；多类型链路支持；差错检验；连接检验；最大传输……
    * 组成：封装ip数据报的方法；链路控制系统；网络控制协议
